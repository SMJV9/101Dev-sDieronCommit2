/* Terminal / Developer aesthetic - Board Styles */
@import url('https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500;600;700;900&display=swap');

:root{
    --bg:#0b0c10;
    --bg-dark:#000000;
    --glass:rgba(102,252,241,0.03);
    --accent:#66fcf1;
    --accent2:#45a29e;
    --text:#c5c6c7;
    --muted:#7a8084;
    --success:#10b981;
    --error:#ef4444;
}

html,body{
    height:100%;
    margin:0;
    background:linear-gradient(180deg, #000000 0%, #0b0c10 40%, #1f2833 100%);
    font-family:'Fira Code', monospace;
    color:var(--text);
    font-variant-ligatures: normal;
}

.container{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:18px}

/* center the board card reliably */
.dashboard{display:flex;align-items:center;justify-content:center;width:100%;}
.dashboard .board-wrapper{width:1000px;max-width:96%;display:flex;gap:22px;align-items:center;justify-content:center}
.dashboard .board{flex:1 1 auto}

/* Left: board */
.board{
    background:rgba(11,12,16,0.85);
    border-radius:8px;
    padding:20px;
    backdrop-filter: blur(10px);
    box-shadow:0 0 40px rgba(102,252,241,0.1), 0 0 80px rgba(69,162,158,0.05), inset 0 1px 0 rgba(102,252,241,0.05);
    border:1px solid rgba(102,252,241,0.2);
}

.header{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}

.title{
    font-weight:900;
    font-size:22px;
    letter-spacing:1px;
    color:var(--accent);
    text-shadow:0 0 20px rgba(102,252,241,0.6), 0 0 40px rgba(102,252,241,0.3);
}

.status{font-size:13px;color:var(--muted)}

.scoreline{display:flex;gap:10px;align-items:center;margin-bottom:8px}

.score{
    flex:0 0 140px;
    padding:14px;
    border-radius:6px;
    background:rgba(0,0,0,0.5);
    border:1px solid rgba(102,252,241,0.3);
    box-shadow:0 0 20px rgba(102,252,241,0.15), inset 0 0 20px rgba(102,252,241,0.05);
}

.score .num{
    font-size:38px;
    font-weight:900;
    color:var(--accent);
    letter-spacing:3px;
    text-shadow:0 0 10px rgba(102,252,241,0.8), 0 0 20px rgba(102,252,241,0.4);
}

.score .lbl{
    font-size:11px;
    color:var(--muted);
    margin-top:6px;
    text-transform:uppercase;
    letter-spacing:1px;
}

/* Active team highlight */
.team-card{position:relative;transition:transform .15s ease, box-shadow .15s ease, border-color .15s ease}
.team-card.active{
    box-shadow:0 0 0 2px var(--accent), 0 0 22px rgba(102,252,241,0.4);
    border-color: var(--accent) !important;
    transform: translateY(-2px);
}

/* Grid of answers */
.answers-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;margin-top:10px}

.cell{
    background:rgba(0,0,0,0.6);
    border-radius:6px;
    padding:16px;
    border:1px solid rgba(102,252,241,0.2);
    min-height:70px;
    display:flex;
    flex-direction:column;
    justify-content:space-between;
    position:relative;
    overflow:hidden;
    transition:all 0.3s ease;
}

.cell .text{
    font-size:15px;
    color:var(--text);
    min-height:36px;
    font-weight:500;
}

.cell .count{
    font-family:'Fira Code', monospace;
    font-weight:900;
    color:var(--accent);
    font-size:22px;
    text-shadow:0 0 10px rgba(102,252,241,0.6);
}

.cell.locked{
    opacity:0.3;
    filter:grayscale(0.8);
    border-color:rgba(102,252,241,0.1);
}

/* Neon glow for revealed cells with animation */
.cell.revealed{
    background:rgba(102,252,241,0.05);
    box-shadow:0 0 30px rgba(102,252,241,0.2), inset 0 0 20px rgba(102,252,241,0.1);
    border:1px solid var(--accent);
    animation:revealGlow 0.5s ease-out;
}

@keyframes revealGlow{
    0%{
        transform:scale(0.95) rotateX(-10deg);
        opacity:0;
        box-shadow:0 0 0 rgba(102,252,241,0);
    }
    50%{
        transform:scale(1.02);
        box-shadow:0 0 40px rgba(102,252,241,0.5);
    }
    100%{
        transform:scale(1) rotateX(0deg);
        opacity:1;
        box-shadow:0 0 30px rgba(102,252,241,0.2);
    }
}

/* Right column: meta & logs */
.panel{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:12px;padding:14px;border:1px solid rgba(255,255,255,0.03)}
.panel h3{margin:0 0 8px 0;color:var(--accent2)}
.chip{font-size:12px;color:var(--muted);margin-bottom:10px}
.logs{background:rgba(0,0,0,0.16);border-radius:8px;padding:8px;height:200px;overflow:auto;color:#cfeffb;font-size:12px}

/* subtle animated grid background */
.bg-grid{position:absolute;inset:0;pointer-events:none;mask-image:linear-gradient(180deg, rgba(0,0,0,1), rgba(0,0,0,0.2));}
.small{font-size:12px;color:var(--muted)}

@keyframes strikeAppear {
    0% {
        transform: scale(0) rotate(-180deg);
        opacity: 0;
    }
    50% {
        transform: scale(1.3) rotate(10deg);
    }
    100% {
        transform: scale(1) rotate(0deg);
        opacity: 1;
    }
}

/* Steal (robo de puntos) overlay */
.steal-overlay{position:fixed;inset:0;background:rgba(0,0,0,0.75);display:none;align-items:center;justify-content:center;z-index:10050}
.steal-card{background:radial-gradient(circle at 50% 50%, rgba(239,68,68,0.95) 0%, rgba(249,115,22,0.9) 100%);color:#fff;padding:28px 40px;border-radius:16px;text-align:center;box-shadow:0 22px 80px rgba(239,68,68,0.6),0 0 0 4px rgba(255,255,255,0.08)}
.steal-title{font-size:56px;font-weight:900;letter-spacing:2px;text-transform:uppercase;text-shadow:0 0 40px rgba(255,255,255,0.3),0 0 80px rgba(249,115,22,0.5)}
.steal-sub{margin-top:8px;font-size:22px;font-weight:800;opacity:.96}

@keyframes steal-pop{0%{transform:scale(.7);opacity:0}60%{transform:scale(1.06);opacity:1}100%{transform:scale(1)}}
@keyframes steal-glow{0%{box-shadow:0 0 40px rgba(239,68,68,.55),0 0 0 4px rgba(255,255,255,0.08)}100%{box-shadow:0 0 90px rgba(249,115,22,.7),0 0 0 6px rgba(255,255,255,0.1)}}

/* Pulse animation for active turn banner */
@keyframes pulse{0%{transform:scale(1);box-shadow:0 0 0 0 rgba(0,229,255,0.4)}50%{transform:scale(1.02);box-shadow:0 0 20px 10px rgba(0,229,255,0.2)}100%{transform:scale(1);box-shadow:0 0 0 0 rgba(0,229,255,0)}}

@media (max-width:880px){ 
    .dashboard .board-wrapper{flex-direction:column;align-items:stretch} 
    .panel{order:2} 
}

/* ===== TEATRO TELON ANIMATIONS ===== */
.curtain-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 10000;
    pointer-events: none;
    display: flex;
    overflow: hidden;
}

.curtain-left, .curtain-right {
    width: 50%;
    height: 100%;
    background: linear-gradient(
        to bottom,
        #8b0000 0%,
        #a00000 15%,
        #dc143c 25%,
        #b22222 45%,
        #8b0000 65%,
        #654321 85%,
        #2f1b14 100%
    );
    position: relative;
    box-shadow: inset -10px 0 30px rgba(0,0,0,0.8);
    border: 2px solid #654321;
}

.curtain-left {
    border-right: none;
    transform: translateX(-100%);
}

.curtain-right {
    border-left: none;
    transform: translateX(100%);
}

/* Texturas y pliegues del tel贸n */
.curtain-left::before, .curtain-right::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: repeating-linear-gradient(
        90deg,
        rgba(0,0,0,0.1) 0px,
        transparent 2px,
        transparent 8px,
        rgba(0,0,0,0.1) 10px
    ),
    repeating-linear-gradient(
        0deg,
        rgba(255,255,255,0.05) 0px,
        transparent 1px,
        transparent 20px,
        rgba(255,255,255,0.05) 21px
    );
}

/* Animaci贸n de cierre */
.curtain-closing .curtain-left {
    animation: curtainCloseLeft 1.5s ease-in-out forwards;
}

.curtain-closing .curtain-right {
    animation: curtainCloseRight 1.5s ease-in-out forwards;
}

/* Animaci贸n de apertura */
.curtain-opening .curtain-left {
    animation: curtainOpenLeft 1.2s ease-out forwards;
}

.curtain-opening .curtain-right {
    animation: curtainOpenRight 1.2s ease-out forwards;
}

@keyframes curtainCloseLeft {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(0); }
}

@keyframes curtainCloseRight {
    0% { transform: translateX(100%); }
    100% { transform: translateX(0); }
}

@keyframes curtainOpenLeft {
    0% { transform: translateX(0); }
    100% { transform: translateX(-100%); }
}

@keyframes curtainOpenRight {
    0% { transform: translateX(0); }
    100% { transform: translateX(100%); }
}

/* Mensaje de cambio de ronda */
.round-transition-message {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    text-align: center;
    color: #ffd700;
    z-index: 10001;
    opacity: 0;
    font-family: 'Fira Code', monospace;
}

.round-transition-message h1 {
    font-size: 4rem;
    font-weight: 900;
    margin-bottom: 1rem;
    text-shadow: 0 0 30px rgba(255, 215, 0, 0.8),
                 0 0 60px rgba(255, 215, 0, 0.6),
                 0 4px 8px rgba(0,0,0,0.8);
    letter-spacing: 3px;
}

.round-transition-message p {
    font-size: 1.5rem;
    font-weight: 600;
    color: #fff;
    text-shadow: 0 0 20px rgba(255, 255, 255, 0.8),
                 0 2px 4px rgba(0,0,0,0.8);
    letter-spacing: 2px;
}

.message-visible {
    animation: messageAppear 0.8s ease-out 0s forwards;
}

@keyframes messageAppear {
    0% {
        opacity: 0;
        transform: translate(-50%, -50%) scale(0.8);
    }
    100% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
    }
}

/* Efectos de brillo en los bordes del tel贸n */
.curtain-left::after {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    width: 20px;
    height: 100%;
    background: linear-gradient(
        to right,
        transparent 0%,
        rgba(255, 215, 0, 0.3) 50%,
        rgba(255, 215, 0, 0.6) 100%
    );
}

.curtain-right::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 20px;
    height: 100%;
    background: linear-gradient(
        to left,
        transparent 0%,
        rgba(255, 215, 0, 0.3) 50%,
        rgba(255, 215, 0, 0.6) 100%
    );
}

/* ===== WINNER ANIMATION STYLES ===== */
.winner-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 15000;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
}

.winner-background {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(
        45deg,
        #000428 0%,
        #004e92 50%,
        #009ffd 100%
    );
    animation: backgroundPulse 3s ease-in-out infinite alternate;
}

.winner-content {
    text-align: center;
    z-index: 15001;
    animation: winnerAppear 1s ease-out;
}

.winner-trophy {
    font-size: 8rem;
    margin-bottom: 1rem;
    animation: trophyBounce 2s ease-in-out infinite;
    text-shadow: 0 0 30px rgba(255, 215, 0, 0.8);
}

.winner-title {
    font-size: 4rem;
    font-weight: 900;
    color: #ffd700;
    margin-bottom: 0.5rem;
    text-shadow: 
        0 0 20px rgba(255, 215, 0, 1),
        0 0 40px rgba(255, 215, 0, 0.8),
        0 0 60px rgba(255, 215, 0, 0.6),
        0 4px 8px rgba(0,0,0,0.8);
    animation: titleGlow 2s ease-in-out infinite alternate;
    letter-spacing: 4px;
}

.winner-team {
    font-size: 2.5rem;
    font-weight: 700;
    color: var(--accent);
    margin-bottom: 1rem;
    text-shadow: 
        0 0 15px rgba(102, 252, 241, 0.8),
        0 2px 4px rgba(0,0,0,0.8);
    animation: teamPulse 1.5s ease-in-out infinite;
}

.winner-score {
    font-size: 3rem;
    font-weight: 900;
    color: #fff;
    margin-bottom: 1rem;
    text-shadow: 0 0 20px rgba(255, 255, 255, 0.8);
    animation: scoreBounce 1s ease-in-out infinite;
}

.winner-message {
    font-size: 1.5rem;
    color: #ffd700;
    font-weight: 600;
    text-shadow: 0 2px 4px rgba(0,0,0,0.8);
    animation: messageFloat 3s ease-in-out infinite;
}

/* Confetti Animation */
.confetti-container {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 14999;
}

.confetti {
    position: absolute;
    width: 10px;
    height: 10px;
    background: #ffd700;
    animation: confettiFall linear;
}

.confetti:nth-child(odd) { background: #ff6b6b; }
.confetti:nth-child(3n) { background: #4ecdc4; }
.confetti:nth-child(4n) { background: #45b7d1; }
.confetti:nth-child(5n) { background: #96ceb4; }
.confetti:nth-child(6n) { background: #ffeaa7; }

/* Fireworks Animation */
.fireworks-container {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 14998;
}

.firework {
    position: absolute;
    width: 4px;
    height: 4px;
    background: #ffd700;
    border-radius: 50%;
    animation: fireworkExplode 2s ease-out;
}

/* Keyframes */
@keyframes winnerAppear {
    0% {
        opacity: 0;
        transform: scale(0.5) translateY(50px);
    }
    100% {
        opacity: 1;
        transform: scale(1) translateY(0);
    }
}

@keyframes backgroundPulse {
    0% { opacity: 0.8; }
    100% { opacity: 1; }
}

@keyframes trophyBounce {
    0%, 20%, 50%, 80%, 100% {
        transform: translateY(0) rotate(0deg);
    }
    40% {
        transform: translateY(-20px) rotate(-5deg);
    }
    60% {
        transform: translateY(-10px) rotate(5deg);
    }
}

@keyframes titleGlow {
    0% {
        text-shadow: 
            0 0 20px rgba(255, 215, 0, 1),
            0 0 40px rgba(255, 215, 0, 0.8),
            0 0 60px rgba(255, 215, 0, 0.6);
    }
    100% {
        text-shadow: 
            0 0 30px rgba(255, 215, 0, 1),
            0 0 60px rgba(255, 215, 0, 1),
            0 0 100px rgba(255, 215, 0, 0.8);
    }
}

@keyframes teamPulse {
    0%, 100% {
        transform: scale(1);
        opacity: 1;
    }
    50% {
        transform: scale(1.05);
        opacity: 0.9;
    }
}

@keyframes scoreBounce {
    0%, 100% {
        transform: scale(1);
    }
    50% {
        transform: scale(1.1);
    }
}

@keyframes messageFloat {
    0%, 100% {
        transform: translateY(0px);
    }
    50% {
        transform: translateY(-10px);
    }
}

@keyframes confettiFall {
    0% {
        transform: translateY(-100vh) rotate(0deg);
        opacity: 1;
    }
    100% {
        transform: translateY(100vh) rotate(720deg);
        opacity: 0;
    }
}

@keyframes fireworkExplode {
    0% {
        transform: scale(0) translate(0, 0);
        opacity: 1;
    }
    50% {
        opacity: 1;
    }
    100% {
        transform: scale(20) translate(var(--random-x), var(--random-y));
        opacity: 0;
    }
}
